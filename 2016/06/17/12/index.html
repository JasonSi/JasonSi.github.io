<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Mr. Almost"><title>Ruby爬虫实现成绩订阅功能 | Pujiaxun的空间</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.1.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-113942183-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Ruby爬虫实现成绩订阅功能</h1><a id="logo" href="/.">Pujiaxun的空间</a><p class="description">开始时捱一些苦，栽种绝处的花～</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/history/"><i class="fa fa-book"> 历史</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Ruby爬虫实现成绩订阅功能</h1><div class="post-meta">Jun 17, 2016<span> | </span><span class="category"><a href="/categories/tech/">技术</a></span></div><a class="disqus-comment-count" href="/2016/06/17/12/#vcomment"><span class="valine-comment-count" data-xid="/2016/06/17/12/"></span><span>条评论</span></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#我为什么这么闲"><span class="toc-number">1.</span> <span class="toc-text">我为什么这么闲</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ruby大法"><span class="toc-number">2.</span> <span class="toc-text">Ruby大法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#实现思路"><span class="toc-number">2.1.</span> <span class="toc-text">实现思路</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#教务系统的坑"><span class="toc-number">3.</span> <span class="toc-text">教务系统的坑</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#无法直接获取学期"><span class="toc-number">3.1.</span> <span class="toc-text">无法直接获取学期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#需要访问两个页面"><span class="toc-number">3.2.</span> <span class="toc-text">需要访问两个页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#成绩居然会撤回"><span class="toc-number">3.3.</span> <span class="toc-text">成绩居然会撤回</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="我为什么这么闲"><a href="#我为什么这么闲" class="headerlink" title="我为什么这么闲"></a>我为什么这么闲</h2><p>由于我<del>热爱学习</del>而且充满好奇心，所以经常要登录教务系统查看有没有出新成绩，每次都要输恶心的验证码，后来我还是忍不住了… 决定写一个爬虫自动获取成绩，放到服务器跑去，每十分钟查一次，查到新的成绩就发邮件通知自己。</p>
<p>实际上这事我也不是第一次干了，上一次是一年前，大一下考试月的时候，考试之前不想复习，就想出这么个东西。然后用Java写了一个这样的功能。不过那时候写的比现在还丑，自己也看不懂，基本是抄几个模块自己做胶水。</p>
<p>总结一下当时的程序，有几个模块：</p>
<ol>
<li>获取登录教务系统表单，下载验证码</li>
<li>使用Tesseract自动识别验证码</li>
<li>模拟登录教务系统</li>
<li>访问成绩页面，并保存到本地</li>
<li>打开文件，正则匹配（比如查高数下就匹配类似 “高等数学II”的字样，来判断是不是出成绩了）</li>
<li>如果有新成绩则发邮件通知</li>
</ol>
<p>缺点：</p>
<ol>
<li>代码一大半都是copy的，自己拼接起来，不是很理解原理</li>
<li>正则写的很丑，通过是否有“高等数学”字样来判断，可扩展性太差，要查询别的还得重写正则表达式</li>
<li>Java写的，代码一坨（没错这就是缺点（认真脸</li>
<li>很多…不想吐槽了</li>
</ol>
<h2 id="Ruby大法"><a href="#Ruby大法" class="headerlink" title="Ruby大法"></a>Ruby大法</h2><p>前段时间写的<a href="http://www.pujiaxun.com/2016/03/29/3/">Ruby+Tesseract爬取学校教务系统</a> 这个时候派上很大用场，这篇文章末尾说</p>
<blockquote>
<p>最艰难的时刻都度过了，想要继续爬点有用的信息也就很简单了。不过还是想对这个教务系统说，再见！</p>
</blockquote>
<p>再见了两个多月呢我又忍不住来搞了。</p>
<p>如何模拟登录，获取页面就不多说了，建议先看一下那篇文章。<br>我还是把程序分了几个模块，不过这次全自己手写的了。</p>
<ul>
<li>发邮件模块</li>
<li>模拟登录模块</li>
<li>分析成绩，序列化模块</li>
<li>主运行程序</li>
</ul>
<h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><ol>
<li>读取<code>account.yml</code>获取学号密码以及邮箱等信息，以便登录查询和通知</li>
<li><p>获取成绩，按照一定的格式，存储所有的成绩，一个二维数组，元素是每个学期的成绩数组。下面是某一学期成绩又是一个数组，每个元素是一个hash表，形如</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [</span><br><span class="line">    &#123;<span class="attr">"name"</span>: <span class="string">"高等数学I"</span>, <span class="attr">"grade"</span>: <span class="string">"75"</span>, <span class="attr">"point"</span>: <span class="string">"3.5"</span>, <span class="attr">"credit"</span>: <span class="string">"5"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">"name"</span>: <span class="string">"大学英语I"</span>, <span class="attr">"grade"</span>: <span class="string">"80"</span>, <span class="attr">"point"</span>: <span class="string">"4.0"</span>, <span class="attr">"credit"</span>: <span class="string">"3"</span>&#125;</span><br><span class="line">  ],</span><br><span class="line">  [</span><br><span class="line">    &#123;<span class="attr">"name"</span>: <span class="string">"高等数学II"</span>, <span class="attr">"grade"</span>: <span class="string">"90"</span>, <span class="attr">"point"</span>: <span class="string">"5.0"</span>, <span class="attr">"credit"</span>: <span class="string">"6"</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">"name"</span>: <span class="string">"大学英语II"</span>, <span class="attr">"grade"</span>: <span class="string">"80"</span>, <span class="attr">"point"</span>: <span class="string">"4.0"</span>, <span class="attr">"credit"</span>: <span class="string">"3"</span>&#125;</span><br><span class="line">  ],</span><br><span class="line">  [</span><br><span class="line">    &#123;<span class="attr">"name"</span>: <span class="string">"算法与数据结构"</span>, <span class="attr">"grade"</span>: <span class="string">"95"</span>, <span class="attr">"point"</span>: <span class="string">"5.0"</span>, <span class="attr">"credit"</span>: <span class="string">"3"</span>&#125;</span><br><span class="line">  ]</span><br><span class="line">]</span><br><span class="line">/* 这个就表示一共有三学期，第一学期有两门课，以此类推 */</span><br></pre></td></tr></table></figure>
</li>
<li><p>寻找该学号的成绩文件，如果没有则以上面的成绩新建<code>学号.yml</code>文件；如果有，则取出对比，不相等则表示有新成绩（后面这里要改）</p>
</li>
<li>有新的成绩则发送邮件通知订阅者</li>
</ol>
<h2 id="教务系统的坑"><a href="#教务系统的坑" class="headerlink" title="教务系统的坑"></a>教务系统的坑</h2><h3 id="无法直接获取学期"><a href="#无法直接获取学期" class="headerlink" title="无法直接获取学期"></a>无法直接获取学期</h3><p>这个是真坑，我想分学期存储成绩，但是由于教务系统中成绩和学期没有直接关联，而是类似下面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">afsuohf</span><br><span class="line">asgjefifasdf</span><br><span class="line">sfgeqafcdsfag</span><br><span class="line">2015上</span><br><span class="line">ansdoiajd</span><br><span class="line">高等数学I 75 5</span><br><span class="line">大学英语I 80 3</span><br><span class="line">asfhiegn</span><br><span class="line">gregweefsdv</span><br><span class="line">aeggggggg</span><br><span class="line">adfafdasda</span><br><span class="line">2015下</span><br><span class="line">rgdfvgadg</span><br><span class="line">高等数学II 90 6</span><br><span class="line">大学英语II 80 3</span><br><span class="line">gaegrhwsrhwe</span><br><span class="line">gegaqegqegeg</span><br><span class="line">2016上</span><br><span class="line">geghqgqaegqa</span><br><span class="line">算法与数据结构 95 3</span><br></pre></td></tr></table></figure>
<p>学期和成绩没有父子关系，是并列的，而且有很多无用的没有什么规律的表格穿插进去，具体情况比这复杂的多。本来想贴一下真实源码的，发现就两行成绩活活写了150行HTML还缩进的乱七八糟。</p>
<p>所以我想不出什么更好的办法。</p>
<p>于是发现了<code>指导性教学计划</code>这个页面，这里可以获取每科的考试时间，以此来推断是属于某个学期。<br>获取到所有的成绩之后，调用下面的方法，将它按学期变成二维数组就行了。</p>
<p>算法原理很奇妙：考试时间的后四位是月份日期，比如0420就是4月20号，我觉得5.1到11.1的考试都算是每年的第二学期（包括补考），所以判断是否在第二学期就行了，置一个标志位，如果变化了则说明到了新学期。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nest_with_date</span></span></span><br><span class="line">  @score_list = []  <span class="comment"># 将要存放成绩的二维数组</span></span><br><span class="line">  res = []</span><br><span class="line">  z = <span class="number">0</span></span><br><span class="line">  second_term = <span class="number">500</span>...<span class="number">1100</span>  <span class="comment"># 还有可能会是补考，算同一学期</span></span><br><span class="line">  flag = <span class="literal">false</span>  <span class="comment"># 标志位，表示不在第二学期。 大一开学是第一学期，所以默认false</span></span><br><span class="line">  @guide_score_list.each_with_index <span class="keyword">do</span> <span class="params">|s, i|</span></span><br><span class="line">    z += <span class="number">1</span></span><br><span class="line">    <span class="comment"># 判断后四位是否在第二学期范围内，置标志位，如果不同则换了学期</span></span><br><span class="line">    date = s[<span class="symbol">:date</span>].slice(-<span class="number">4</span>..-<span class="number">1</span>).to_i</span><br><span class="line">    <span class="keyword">if</span> flag != second_term.<span class="keyword">include</span>?(date)</span><br><span class="line">      res &lt;&lt; (z-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    flag = second_term.<span class="keyword">include</span>?(date)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  res &lt;&lt; z</span><br><span class="line">  res.length.times <span class="keyword">do</span> <span class="params">|i|</span></span><br><span class="line">    <span class="comment"># 按照考试时间将其分为二维数组</span></span><br><span class="line">    @score_list &lt;&lt; @guide_score_list.slice((i == <span class="number">0</span> ? <span class="number">0</span> : res[i-<span class="number">1</span>])...res[i])</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="需要访问两个页面"><a href="#需要访问两个页面" class="headerlink" title="需要访问两个页面"></a>需要访问两个页面</h3><p>讲真，我真服这个教务系统。<br>我在写这样的代码中，无时无刻不在踩坑。</p>
<p>我要自动计算GPA那就必须要有这门课的实际得分和学分以及是否为必修课，我要区分学期就必须知道这门课的考试时间。<br>然而没有哪个页面同时有以上所有信息的。。。</p>
<p>所以我要访问<code>指导性教学计划</code>获取成绩，序列化后存到数组<code>@guide_score_list</code>，再按照<code>课程属性</code>查询成绩获取学分，课程性质等信息存到数组<code>@credit_list</code>，然后按照课程名称合并…</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_by_name</span></span></span><br><span class="line">  @guide_score_list.each <span class="keyword">do</span> <span class="params">|g|</span></span><br><span class="line">    @credit_list.each <span class="keyword">do</span> <span class="params">|s|</span></span><br><span class="line">      <span class="comment"># 如果课程名相同则合并这两个Hash</span></span><br><span class="line">      g.merge!(s) <span class="keyword">if</span> g[<span class="symbol">:name</span>] == s[<span class="symbol">:name</span>]</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>我这么写总觉得时间复杂度很夸张，但真的不要紧。课程总数也就几十个，效率低不到哪去。最关键的是学校的破服务器，如果说整个程序耗时5秒，网络IO得占4.9秒。所以还是放宽心吧。</p>
<h3 id="成绩居然会撤回"><a href="#成绩居然会撤回" class="headerlink" title="成绩居然会撤回"></a>成绩居然会撤回</h3><p>每隔十分钟查一次成绩，与之前存下来的做对比，如果不相等，则说明有新成绩。看上去没问题。<br>结果第二天就通知有新成绩，邮件内容反而是少了一科…大写的懵逼<br>我登录教务系统查看了一下，那门成绩还真没了。过了一个多小时后又收到邮件，那成绩又出来了。<br>所以学校的教务系统是有几率撤回成绩的，而我可不想惊心动魄地打开邮件却没有新成绩，所以要更改策略了。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(current_score &amp; last_score) != current_score</span><br><span class="line"><span class="comment"># 如果这个条件成立则表示有新成绩</span></span><br></pre></td></tr></table></figure>
<p>这个判断就是取两次成绩列表交集，如果不等于刚查询到的，则说明有新的成绩。OK，解决！</p>
<p>具体代码还考虑了其他细节，可以直接看Repo啦～</p>
<p><a href="https://github.com/pujiaxun/hack_my_school" target="_blank" rel="noopener">HackMySchool</a></p>
<p><em>如有疏漏，欢迎评论指出，或者前往<a href="https://github.com/pujiaxun/pujiaxun.github.io" target="_blank" rel="noopener">Github</a>提出issue~谢谢</em></p>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.jpg&amp;WeChatQR=/img/WeChatQR.jpg&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/Ruby/">Ruby</a><a href="/tags/爬虫/">爬虫</a></div><div class="post-nav"><a class="pre" href="/2016/07/01/13/">Roo使用UTF-8编码生成的csv/xls乱码问题</a><a class="next" href="/2016/06/07/11/">最近的实习面试经历</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'GdYXc7NL6OjXbEsEJpbupajS-gzGzoHsz',
  appKey:'V1O9dvhLxl0T3bC1aVN9TrUC',
  placeholder:'坐下说坐下说...',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://www.pujiaxun.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/tech/">技术</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">生活</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/闲谈/" style="font-size: 15px;">闲谈</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a> <a href="/tags/实习/" style="font-size: 15px;">实习</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/Ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/LaTeX/" style="font-size: 15px;">LaTeX</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/效率/" style="font-size: 15px;">效率</a> <a href="/tags/生活/" style="font-size: 15px;">生活</a> <a href="/tags/经济学/" style="font-size: 15px;">经济学</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/12/28/50/">图片视频瀑布流长列表性能优化实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/25/49/">图片预加载踩坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/25/48/">Webpack热更新内存泄漏探索</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/09/47/">Chrome中sticky定位的导航栏产生1px缝隙</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/18/46/">我是如何提高生存效率的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/10/45/">Neo4j & Python 构建中国行政区划图</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/13/43/">快速排序算法原来这么简单</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/01/42/">macOS 中文输入法时 VS Code 快捷键失效</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/25/41/">如何区别真假网址？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/25/40/">Chrome焦点从地址栏回到页面中</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Pujiaxun的空间.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.1.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.1.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.1.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.1.0"></script></div></body></html>